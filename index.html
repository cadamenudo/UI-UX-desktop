<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Cada Menudo ‚Äì Dashboard</title>

  <!-- Fuente Greycliff CF -->
  <link rel="stylesheet" href="https://cadamenudo.github.io/UI-UX/css-fonts.css"/>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <style>
    :root{
      --sidebar-w: 280px;    /* Ajusta si tu sidebar mide distinto */
      --header-h: 64px;      /* Ajusta si tu header mide distinto */

      --primary:#3956E8;
      --secondary:#7459D9;
      --yellow:#E8C239;
      --gray:#64748B;
      --muted:#EEF0F6;
      --bg:#F7F8FC;
      --card:#FFFFFF;
      --text:#0F172A;
      --border:#E5E7EB;
      --shadow:0 6px 18px rgba(17,24,39,.06);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      font-family:"Greycliff CF", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
    }

    /* ===== HEADER (color #594AE2 y texto blanco) ===== */
    header{
      position:fixed; top:0; left:0; right:0;
      height:var(--header-h);
      background:#594AE2;
      border:none;                               /* ‚Üê quitamos borde */
      z-index:100;
      display:flex; align-items:center; justify-content:space-between;
      padding:0 20px;
      box-shadow:0 2px 6px rgba(0,0,0,0.15);
      color:#fff;
    }
    header *{ color:#fff !important; }
    header .logo{display:flex;align-items:center;gap:10px;font-weight:800}
    header img{height:28px}

    /* ===== SIDEBAR con logout al fondo ===== */
    .sidebar{
      position:fixed; top:var(--header-h); left:0;
      width:var(--sidebar-w); bottom:0;
      background:#fff;
      border-right:1px solid var(--border);
      display:grid;                              /* ‚Üê grid layout */
      grid-template-rows: auto 1fr auto;         /* brand | contenido scroll | logout */
      overflow:hidden;                           /* scroll solo en el √°rea central */
      z-index:90;
    }
    .brand{
      display:flex;align-items:center;gap:10px;
      padding:12px; border-bottom:1px solid var(--border);
    }
    .brand img{width:32px;height:32px;border-radius:8px}
    .brand .name{font-weight:800;font-size:18px}
    .sidebar small{color:var(--gray)}

    .sidebar-content{
      overflow-y:auto;                           /* ‚Üê scroll aqu√≠ */
      padding:12px;
    }

    .section-title{
      font-size:12px;color:var(--gray);
      text-transform:uppercase;letter-spacing:.1em;
      margin:14px 8px 8px;
    }
    .nav{display:flex;flex-direction:column;gap:6px;padding:0 4px}
    .nav a{
      display:flex;align-items:center;gap:12px;
      padding:10px 12px;border-radius:12px;
      text-decoration:none;color:var(--text);
      transition:background .2s ease,color .2s ease;
    }
    .nav a:hover{background:var(--muted)}
    .nav a.active{
      background:rgba(57,86,232,.1);
      color:var(--primary);
      font-weight:700;
    }
    .nav a img.icon{width:22px;height:22px;object-fit:contain}

    .footer-exit{
      border-top:1px solid var(--border);
      padding:10px 12px;
    }
    .footer-exit a{
      display:flex;align-items:center;gap:12px;
      color:#64748B;text-decoration:none;font-weight:700;padding:8px 0;
    }
    .footer-exit a:hover{ color:var(--primary); }

    /* ===== MAIN LAYOUT ===== */
    main{
      margin-left:var(--sidebar-w);
      margin-top:var(--header-h);
      padding:24px;
      display:grid;
      grid-template-columns:1fr 340px;
      gap:20px;
    }

    .card{
      background:#fff;
      border-radius:20px;
      box-shadow:var(--shadow);
      padding:18px;
    }

    .kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .kpi{display:flex;align-items:center;gap:14px}
    .dot{width:38px;height:38px;border-radius:12px;display:grid;place-items:center;color:#fff;font-weight:900}
    .dot.income{background:linear-gradient(135deg,var(--primary),#7a93ff)}
    .dot.expense{background:linear-gradient(135deg,#e44d79,#ff7b9f)}
    .dot.saving{background:linear-gradient(135deg,var(--yellow),#ffd977);color:#222}
    .label{font-size:14px;color:var(--gray)}
    .value{font-size:22px;font-weight:900}

    .grid-2{display:grid;grid-template-columns:1fr 1.4fr;gap:18px}
    canvas{width:100%!important;height:auto!important}
    .chart-title{font-weight:800}

    .grid-2-2{display:grid;grid-template-columns:1fr 1fr;gap:18px}
    .donut-center{position:relative;max-width:420px;margin:auto}
    .donut-center .center{position:absolute;inset:0;display:grid;place-items:center;font-weight:900;font-size:28px;pointer-events:none}

    .tabs{display:flex;gap:8px;margin-bottom:10px}
    .tab{border:1px solid var(--border);padding:8px 12px;border-radius:10px;background:#fff;color:#64748B;cursor:pointer}
    .tab.active{background:rgba(57,86,232,.08);color:var(--primary);border-color:rgba(57,86,232,.2);font-weight:800}

    .transactions{display:flex;flex-direction:column;gap:10px}
    .tx{display:grid;grid-template-columns:1fr auto;gap:8px;align-items:center;padding:10px 12px;border:1px solid var(--border);border-radius:14px;background:#fff}
    .tx .amount.positive{color:#22C55E}
    .tx .amount.negative{color:#EF4444}

    .list-slim{display:flex;flex-direction:column;gap:10px}
    .list-slim .row{display:grid;grid-template-columns:1fr auto;gap:8px;padding:8px 4px;border-bottom:1px dashed var(--border)}
    .list-slim .row:last-child{border-bottom:0}

    .reminder{display:grid;grid-template-columns:1fr auto auto;gap:8px;align-items:center;padding:10px;border:1px solid var(--border);border-radius:12px;background:#fff}
    .icon-btn{width:30px;height:30px;border-radius:8px;border:1px solid var(--border);background:#fff;display:grid;place-items:center;cursor:pointer}

    @media(max-width:1200px){
      main{grid-template-columns:1fr}
    }
  </style>
</head>
<body>

  <!-- ===== HEADER ===== -->
  <header>
    <div class="logo">
      <img src="https://cadamenudo.github.io/UI-UX/assets/logo/cada menudo logo WHITE.png" alt="logo">
    </div>
    <div><strong>Header Placeholder</strong></div>
  </header>

  <!-- ===== SIDEBAR ===== -->
  <aside class="sidebar">
    <!-- Top fijo -->
    <div class="brand">
      <img src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/nueva-suma.png" alt="Nueva Transacci√≥n">
      <div>
        <div class="name">Nueva Transacci√≥n</div>
      </div>
    </div>

    <!-- Contenido scroll -->
    <div class="sidebar-content">
      <div class="section-title">Men√∫</div>
      <nav class="nav">
        <a class="active" href="#tablero">
          <img class="icon" src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/home_blue.png" alt="Tablero"> Tablero
        </a>
        <a href="#transacciones">
          <img class="icon" src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/transacciones_blue.png" alt="Transacciones"> Transacciones
        </a>
        <a href="#educacion">
          <img class="icon" src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/apprender.png" alt="Educaci√≥n"> Educaci√≥n
        </a>
      </nav>

      <div class="section-title">Configuraci√≥n</div>
      <nav class="nav">
        <a href="#metas">
          <img class="icon" src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/metas_blue.png" alt="Metas"> Metas
        </a>
        <a href="#categorias">
          <img class="icon" src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/categorias.png" alt="Categor√≠as"> Categor√≠as
        </a>
        <a href="#conexion">
          <img class="icon" src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/conexion.png" alt="Conexi√≥n"> Conexi√≥n
        </a>
        <a href="#recurrencias">
          <img class="icon" src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/recurrencias.png" alt="Recurrencias"> Recurrencias
        </a>
        <a href="#suscripcion">
          <img class="icon" src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/suscripcion.png" alt="Suscripci√≥n"> Suscripci√≥n
        </a>
        <a href="#moneda">
          <img class="icon" src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/moneda.png" alt="Moneda"> Moneda
        </a>
      </nav>
    </div>

    <!-- Logout pegado abajo -->
    <div class="footer-exit">
      <a href="#salir">
        <img class="icon" src="https://cadamenudo.github.io/UI-UX/assets/icons/blue%20png/salir.png" alt="Salir"> Salir
      </a>
    </div>
  </aside>

  <!-- ===== MAIN ===== -->
  <main>
    <!-- Columna izquierda (KPIs + Gr√°ficas) -->
    <section>
      <div class="kpis">
        <div class="card kpi">
          <div class="dot income">+$</div>
          <div>
            <div class="label">Ingresos</div>
            <div class="value" id="kpiIngresos">$3,000</div>
          </div>
        </div>
        <div class="card kpi">
          <div class="dot expense">‚Äì$</div>
          <div>
            <div class="label">Gastos</div>
            <div class="value" id="kpiGastos">$1,200</div>
          </div>
        </div>
        <div class="card kpi">
          <div class="dot saving">üí∞</div>
          <div>
            <div class="label">Ahorro</div>
            <div class="value" id="kpiAhorro">$50</div>
          </div>
        </div>
      </div>

      <div class="grid-2" style="margin-top:18px">
        <div class="card">
          <div class="chart-title">Meta para el a√±o</div>
          <canvas id="barGoal"></canvas>
        </div>
        <div class="card">
          <div class="chart-title">Ingresos vs Gastos</div>
          <canvas id="lineIG"></canvas>
        </div>
      </div>

      <div class="grid-2-2" style="margin-top:18px">
        <div class="card">
          <div class="chart-title">Ingresos Totales</div>
          <div class="donut-center">
            <canvas id="donutIncome"></canvas>
            <div class="center" id="centerIncome">$19,600</div>
          </div>
        </div>
        <div class="card">
          <div class="chart-title">Gastos Totales</div>
          <div class="donut-center">
            <canvas id="donutExpense"></canvas>
            <div class="center" id="centerExpense">$1,800</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Columna derecha (listas) -->
    <aside>
      <div class="card">
        <div class="chart-title">√öltimas Transacciones</div>
        <div class="tabs" style="margin-top:8px">
          <button class="tab active" data-tab="ingresos">Ingresos</button>
          <button class="tab" data-tab="gastos">Gastos</button>
          <button class="tab" data-tab="ahorro">Ahorro</button>
        </div>
        <div id="txList" class="transactions"></div>
      </div>

      <div class="card" style="margin-top:18px">
        <div class="chart-title">Resumen de Gastos</div>
        <div class="list-slim" id="resumenGastos" style="margin-top:8px"></div>
      </div>

      <div class="card" style="margin-top:18px">
        <div class="chart-title">Recordatorios</div>
        <div class="list-slim" id="reminders" style="margin-top:8px"></div>
      </div>
    </aside>
  </main>

  <script>
    // ===== Datos demo (reemplaza por tus datos reales) =====
    const demo={
      ingresosKPI:3000,gastosKPI:1200,ahorroKPI:50,
      goal:{meta:6000,acumulado:3800},
      meses:['Ene','Feb','Mar','Abr','May','Jun','Jul','Ago','Sep','Oct','Nov','Dic'],
      ingresosMes:[3200,3600,4100,3800,4200,4500,5200,4900,4700,4800,5000,5100],
      gastosMes:[2900,3300,3800,3600,3900,4100,4900,4700,4500,4700,4800,4950],
      ingresosTotales:19600,gastosTotales:1800,
      incomeParts:[45,25,15,15],expenseParts:[40,22,18,20],
      tx:[
        {tipo:'ingresos',cat:'Salario',monto:1500,fecha:'2025-10-01'},
        {tipo:'ingresos',cat:'Freelance',monto:600,fecha:'2025-10-03'},
        {tipo:'gastos',cat:'Casa',monto:-850,fecha:'2025-10-04'},
        {tipo:'ahorro',cat:'Aporte Fondo',monto:50,fecha:'2025-10-05'}
      ],
      resumenGastos:[['Casa',1210],['Alimentaci√≥n',190],['Impuestos',104]],
      reminders:[
        {text:'Pagar AMEX',meta:'Hoy',done:false},
        {text:'Auto ahorro',meta:'Viernes',done:true}
      ]
    };

    // ===== Helpers =====
    const fmt=v=>v.toLocaleString('en-US',{style:'currency',currency:'USD'});
    const $=s=>document.querySelector(s);
    const el=(t,c,h)=>{const n=document.createElement(t);if(c)n.className=c;if(h!==undefined)n.innerHTML=h;return n;};

    // KPIs
    $('#kpiIngresos').textContent=fmt(demo.ingresosKPI);
    $('#kpiGastos').textContent=fmt(demo.gastosKPI);
    $('#kpiAhorro').textContent=fmt(demo.ahorroKPI);

    // ===== Charts =====
    Chart.defaults.font.family='"Greycliff CF",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif';
    Chart.defaults.color='#334155';

    // Barra: Meta vs Acumulado
    new Chart($('#barGoal'),{
      type:'bar',
      data:{
        labels:['Meta','Acumulado'],
        datasets:[{
          data:[demo.goal.meta,demo.goal.acumulado],
          backgroundColor:['#DDE2FF','#F7E8B4'],
          borderRadius:14,
          borderSkipped:false
        }]
      },
      options:{
        plugins:{legend:{display:false},tooltip:{callbacks:{label:c=>fmt(c.parsed.y)}}},
        scales:{y:{beginAtZero:true,ticks:{callback:v=>fmt(v)}}}
      }
    });

    // L√≠nea: Ingresos vs Gastos
    (()=>{
      const ctx=$('#lineIG').getContext('2d');
      const g1=ctx.createLinearGradient(0,0,0,220); g1.addColorStop(0,'rgba(57,86,232,.35)'); g1.addColorStop(1,'rgba(57,86,232,0)');
      const g2=ctx.createLinearGradient(0,0,0,220); g2.addColorStop(0,'rgba(228,77,121,.30)'); g2.addColorStop(1,'rgba(228,77,121,0)');
      new Chart(ctx,{
        type:'line',
        data:{
          labels:demo.meses,
          datasets:[
            {label:'Ingresos',data:demo.ingresosMes,tension:.35,fill:true,borderColor:'#3956E8',backgroundColor:g1,borderWidth:3,pointRadius:0},
            {label:'Gastos',data:demo.gastosMes,tension:.35,fill:true,borderColor:'#e44d79',backgroundColor:g2,borderWidth:3,pointRadius:0},
          ]
        },
        options:{
          plugins:{legend:{position:'bottom'},tooltip:{callbacks:{label:c=>`${c.dataset.label}: ${fmt(c.parsed.y)}`}}},
          scales:{y:{ticks:{callback:v=>fmt(v)}}}
        }
      });
    })();

    // Dona: Ingresos
    new Chart($('#donutIncome'),{
      type:'doughnut',
      data:{
        labels:['Salario','Freelance','Intereses','Otros'],
        datasets:[{data:demo.incomeParts,borderWidth:0,hoverOffset:6,backgroundColor:['#3956E8','#7459D9','#A28AF4','#C7BEFF']}]
      },
      options:{cutout:'72%',plugins:{legend:{position:'bottom'}}}
    });

    // Dona: Gastos
    new Chart($('#donutExpense'),{
      type:'doughnut',
      data:{
        labels:['Casa','Comida','Transporte','Otros'],
        datasets:[{data:demo.expenseParts,borderWidth:0,hoverOffset:6,backgroundColor:['#e44d79','#FF8FAF','#FFC2D4','#FFE0EA']}]
      },
      options:{cutout:'72%',plugins:{legend:{position:'bottom'}}}
    });

    // Totales en el centro de las donas
    $('#centerIncome').textContent=fmt(demo.ingresosTotales);
    $('#centerExpense').textContent=fmt(demo.gastosTotales);

    // ===== Listas derecha =====
    function renderTx(tab='ingresos'){
      const w=$('#txList'); w.innerHTML='';
      demo.tx.filter(t=>t.tipo===tab).forEach(t=>{
        const row=el('div','tx');
        row.append(el('div','',`<strong>${t.cat}</strong><br><small style="color:#64748B">${t.fecha}</small>`));
        const m=el('div','amount '+(t.monto<0?'negative':'positive'),fmt(t.monto));
        row.append(m);
        w.append(row);
      });
    }
    renderTx('ingresos');

    document.querySelectorAll('.tab').forEach(b=>{
      b.addEventListener('click',()=>{
        document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));
        b.classList.add('active');
        renderTx(b.dataset.tab);
      });
    });

    // Resumen de gastos
    demo.resumenGastos.forEach(([n,v])=>{
      const r=el('div','row');
      r.append(el('div','',n));
      r.append(el('div','',fmt(v)));
      $('#resumenGastos').append(r);
    });

    // Recordatorios
    function paintReminders(){
      const host=$('#reminders'); host.innerHTML='';
      demo.reminders.forEach((r,i)=>{
        const row=el('div','reminder');
        row.append(el('div','',`<strong>${r.text}</strong><br><small style="color:#64748B">${r.meta}</small>`));
        const st=el('div','',r.done?'<span style="color:#22C55E;font-weight:800">‚úî</span>':'<span style="color:#64748B">Pendiente</span>');
        const del=el('button','icon-btn','üóë');
        del.addEventListener('click',()=>{ demo.reminders.splice(i,1); paintReminders(); });
        row.append(st,del);
        host.append(row);
      });
    }
    paintReminders();

    // Marcar nav activo por hash
    function markActive(){
      document.querySelectorAll('.nav a').forEach(a=>{
        a.classList.toggle('active', a.getAttribute('href')===location.hash);
      });
    }
    window.addEventListener('hashchange', markActive);
    markActive();
  </script>
</body>
</html>
