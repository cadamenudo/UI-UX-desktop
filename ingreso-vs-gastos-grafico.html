<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Ingresos vs Gastos</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Greycliff CF', sans-serif;
      background: transparent;
    }

    .bloque-linea {
      background: white;
      padding: 1.5rem;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
      height: 100%;
    }

    .bloque-linea h2 {
      font-size: 1.25rem;
      margin-bottom: 1rem;
      color: #0f172a;
    }

    canvas {
      width: 100%;
      max-height: 320px;
    }
    .info-icon {
  position: relative;
  font-size: 1rem;
  cursor: pointer;
}

.info-tooltip {
  position: absolute;
  top: 140%;
  left: 50%;
  transform: translateX(-50%);
  width: max-content;
  min-width: 220px;
  padding: 10px;
  background: #ffffff;
  color: #0f172a;
  font-size: 0.75rem;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  white-space: normal;
  z-index: 20;
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none;
}

.info-icon:hover .info-tooltip {
  opacity: 1;
  pointer-events: auto;
}
  </style>
</head>
<body>
<div class="bloque-linea">
  <h2 style="display: flex; align-items: center; gap: 0.5rem;">
    Ingresos vs Gastos
    <span class="info-icon">
      ‚ÑπÔ∏è
      <div class="info-tooltip">
        üí° Los gastos no incluyen ahorro.<br>
        Por eso, un ingreso mayor no implica necesariamente super√°vit.
      </div>
    </span>
  </h2>
  <canvas id="graficoLineas"></canvas>
</div>

  <script>
    const ctx = document.getElementById('graficoLineas').getContext('2d');

    const gradientIngresos = ctx.createLinearGradient(0, 0, 0, 300);
    gradientIngresos.addColorStop(0, 'rgba(116, 89, 217, 0.15)');
    gradientIngresos.addColorStop(1, 'rgba(116, 89, 217, 0)');

    const gradientGastos = ctx.createLinearGradient(0, 0, 0, 300);
    gradientGastos.addColorStop(0, 'rgba(100, 116, 139, 0.15)');
    gradientGastos.addColorStop(1, 'rgba(100, 116, 139, 0)');

    const chart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
        datasets: [
          {
            label: 'Ingresos',
            data: [3200, 4100, 3700, 4600, 4200, 5000, 5400, 5000, 4800, 4600, 4900, 5100],
            borderColor: '#7459D9',
            backgroundColor: gradientIngresos,
            fill: true,
            tension: 0.4,
            pointRadius: 0,
            pointHoverRadius: 5
          },
          {
            label: 'Gastos',
            data: [2800, 3900, 4000, 4700, 4400, 5100, 5600, 5200, 5000, 4700, 4950, 5300],
            borderColor: '#64748B',
            backgroundColor: gradientGastos,
            fill: true,
            tension: 0.4,
            pointRadius: 0,
            pointHoverRadius: 5
          }
        ]
      },
      options: {
        responsive: true,
        interaction: {
          mode: 'index',
          intersect: false
        },
        plugins: {
          legend: { display: false },
          tooltip: {
            backgroundColor: '#ffffff',
            titleColor: '#64748B',
            bodyColor: '#0f172a',
            borderColor: '#e5e7eb',
            borderWidth: 1,
            padding: 10,
            displayColors: false,
            callbacks: {
              title: (context) => context[0].label,
              label: (context) => {
                const valor = context.raw.toLocaleString();
                const tipo = context.dataset.label;
                return `${tipo}: $${valor}`;
              }
            }
          }
        },
        scales: {
          x: {
            ticks: { color: '#64748B' },
            grid: { display: false }
          },
          y: {
            beginAtZero: true,
            ticks: { color: '#64748B' },
            grid: { color: '#e5e7eb' }
          }
        }
      }
    });
  </script>
</body>
</html>
